{
	"id": "auth",
	"database": { "email": true , "username": true, "hash": true },
	"schema": {
		"id": "/auth",
		"type": "object",
		"properties": {
			"email": {
				"title": "Email",
				"type": "string",
				"minLength": 16,
				"maxLength": 255
			},
			"username": {
				"title": "Username",
				"type": "string",
				"minLength": 5,
				"maxLength": 128
			},
			"password": {
				"title": "Password",
				"type": "string",
				"minLength": 6,
				"maxLength": 32,
				"required": true
			},
			"hash": {
				"type": "string",
				"minLength": 101,
				"maxLength": 101,
				"required": true
			}
		}
	},
	"routes": {
		"/ping": {
			"callback": "ping",
			"methods": { "POST": true }
		},
		"/login": {
			"callback": "login",
			"methods": { "POST": true },
			"form": [
				{ "key": "username", "placeholder": "Username or Email address", "required": true },
				{ "key": "password", "title": "Password", "type": "password" },
				{ "type": "section", "htmlClass": "btn-group inline-btn-group", "items": [
						{ "type": "submit", "style": "btn-primary", "title": "Login" },
						{ "type": "button", "style": "btn-warning", "title": "Forgot Password", "onClick": "go('recover')" }
				]}
			]
		},
		"/logout": {
			"callback": "logout",
			"access": ["user"],
			"methods": { "POST": true }
		},
		"/register": {
			"callback": "register",
			"methods": { "POST": true },
			"form": [
				{ "key": "username", "type": "new-username", "placeholder": "Username or Email address", "required": true },
				{ "key": "password", "type": "password", "title": "Password" },
				{ "key": "password_confirm", "type": "password-confirm", "title": "Confirm Password", "condition": "model.password" },
				{ "type": "section", "htmlClass": "btn-group inline-btn-group", "items": [
					{ "type": "submit", "style": "btn-primary", "title": "Register" },
					{ "type": "button", "style": "btn-default", "title": "Cancel", "onClick": "cancel()" }
				]}
			]
		},
		"/recover": {
			"callback": "recover",
			"methods": { "POST": true },
			"form": [
				{ "key": "username", "placeholder": "Username or email address", "required": true },
				{ "type": "section", "htmlClass": "btn-group inline-btn-group", "items": [
					{ "type": "submit", "style": "btn-primary", "title": "Recover Password" },
					{ "type": "button", "style": "btn-default", "title": "Cancel", "onClick": "cancel()" }
				]}
			]
		},
		"/available": {
			"callback": "available",
			"methods": { "GET": true }
		}
	},
	"screens": {
		"*": {
			"nav": [
				{ "type": "link",
					"path": "/admin",
					"title": "Admin",
					"access": ["admin"]
				}
			],
			"auth": [
				{ "type": "widget",
					"content": "tn-auth",
					"hide": ["/user/(login|register|recover)"]
				}
			]
		},
		"/admin*": {
			"page": [
				{	"type": "error",
					"content": "Access denied.",
					"access": ["^admin"]
				}
			]
		},
		"/user/:action<login|register|recover>": {
			"page": [
				{ "type": "widget",
					"content": "tn-auth",
					"args": {"state": ":action"}
				}
			]
		}
	}
}